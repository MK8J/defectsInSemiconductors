
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>defects.timeConstants &#8212; simulation of defects in semiconductor 0.2 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for defects.timeConstants</h1><div class="highlight"><pre>
<span></span><span class="ch">#! python3</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">semiconductor.material</span> <span class="k">as</span> <span class="nn">mat</span>
<span class="kn">import</span> <span class="nn">scipy.constants</span> <span class="k">as</span> <span class="nn">C</span>

<span class="n">tm</span> <span class="o">=</span> <span class="n">mat</span><span class="o">.</span><span class="n">ThermalVelocity</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="s1">&#39;Green_1990&#39;</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">_ni</span> <span class="o">=</span> <span class="n">mat</span><span class="o">.</span><span class="n">IntrinsicCarrierDensity</span><span class="p">()</span>


<div class="viewcode-block" id="escape_time_constants"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.escape_time_constants">[docs]</a><span class="k">def</span> <span class="nf">escape_time_constants</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">bk_tau</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    returns the escape time constants for a single level defect.</span>
<span class="sd">    These values are returned in a dictionary</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    Ed:</span>
<span class="sd">        activation energy level</span>
<span class="sd">    sigma_e:</span>
<span class="sd">        capture cross section of electrons</span>
<span class="sd">    sigma_h:</span>
<span class="sd">        capture cross section of holes</span>
<span class="sd">    ni:</span>
<span class="sd">        intrinsic carrier density</span>
<span class="sd">    temp:</span>
<span class="sd">        temperature</span>
<span class="sd">    ne0:</span>
<span class="sd">        number of electrons in the dark</span>
<span class="sd">    nh0:</span>
<span class="sd">        number of holes in the dark</span>
<span class="sd">    bk_tau:</span>
<span class="sd">        a background lifetime</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    dictionary:</span>
<span class="sd">        The keys of which are</span>
<span class="sd">         * DLTS: the time constant expected from DLTS</span>
<span class="sd">         * DLTS-Mo: The time constant expected from minority carrier DLTS</span>
<span class="sd">         * PC: the time constant expected from transient photoconductance</span>
<span class="sd">         * HH-simp: the time constant expected from transient photoconductance according to the simplified hornbeck and hanes model.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;electron&#39;</span><span class="p">:</span> <span class="n">get_electron_timeconstant</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
            <span class="s1">&#39;hole&#39;</span><span class="p">:</span> <span class="n">get_hole_timeconstant</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
            <span class="s1">&#39;recombination&#39;</span><span class="p">:</span> <span class="n">get_rec_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
            <span class="s1">&#39;PC&#39;</span><span class="p">:</span> <span class="n">get_PC_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">temp</span><span class="p">),</span>
            <span class="s1">&#39;HH-simp&#39;</span><span class="p">:</span> <span class="n">HornbeckHanes_simplified</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span>  <span class="n">temp</span><span class="p">,</span> <span class="n">bk_tau</span><span class="p">)}</span></div>


<span class="k">def</span> <span class="nf">__get_HH_full</span><span class="p">(</span><span class="n">tau_r</span><span class="p">,</span> <span class="n">tau_dr</span><span class="p">,</span> <span class="n">sigma_m</span><span class="p">,</span> <span class="n">vth_m</span><span class="p">,</span> <span class="n">nte</span><span class="p">,</span> <span class="n">nte0</span><span class="p">,</span> <span class="n">n_i</span><span class="p">,</span> <span class="n">Ed</span><span class="p">,</span> <span class="n">temp</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Man there is a lot of defined vairables in this paper. this current;y doesn&#39;t work</span>

<span class="sd">    Parameters</span>

<span class="sd">    tau_r:</span>
<span class="sd">        recombiation in the bulk of the semiconductor</span>
<span class="sd">    tau_g:</span>
<span class="sd">        generation of minority carriers from the trap. sigma_e vth_e n_i exp(+-Ed)z`</span>
<span class="sd">    tau_dr:</span>
<span class="sd">        recombination in the defect</span>
<span class="sd">    simga:</span>
<span class="sd">        capture cross section of the minority</span>
<span class="sd">    vth_m: thermal velocity of the minority carrier</span>
<span class="sd">    N: change in occupation from the dark.</span>
<span class="sd">    y: 1 under illumination 0 in the dark. Trap occupation.</span>

<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">dt</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">nte</span><span class="p">[:]</span> <span class="o">-</span> <span class="n">nte</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">N</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">nte</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">nte</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">y</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span> <span class="o">/</span> <span class="n">N</span>

    <span class="n">tau_g</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_m</span> <span class="o">*</span> <span class="n">vth_m</span> <span class="o">*</span> <span class="n">n_i</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tau_g: </span><span class="si">{0:.2e}</span><span class="s1"> tau_r </span><span class="si">{1:.2e}</span><span class="s1"> Nsigmavth_m </span><span class="si">{2:.2e}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">tau_g</span><span class="p">,</span> <span class="n">tau_r</span><span class="p">,</span> <span class="n">N</span> <span class="o">*</span> <span class="n">sigma_m</span> <span class="o">*</span> <span class="n">vth_m</span><span class="p">))</span>
    <span class="c1"># tau_ge = sigma_e * vth_e * n_i np.exp(Ed / Vt)</span>
    <span class="c1"># tau_gh = sigma_h * vth_h * n_i np.exp(-Ed / Vt)</span>

    <span class="n">itau_m</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">tau_dr</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> \
        <span class="p">(</span><span class="n">tau_g</span> <span class="o">+</span> <span class="n">tau_r</span> <span class="o">*</span> <span class="n">tau_g</span> <span class="o">*</span> <span class="n">N</span> <span class="o">*</span> <span class="n">sigma_m</span> <span class="o">*</span> <span class="n">vth_m</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">y</span><span class="p">))</span>

    <span class="c1"># itau_e = 1 / t_bulk + 1 / \</span>
    <span class="c1"># (tau_ge + tau_r * tau_g * N * sigma_e * vth_e * (1 - y))</span>

    <span class="c1"># itau_h = 1 / t_bulk + 1 / \</span>
    <span class="c1"># (tau_gh + tau_r * tau_g * N * sigma_h * vth_h * (1 - y))</span>

    <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">itau_m</span>


<div class="viewcode-block" id="get_electron_timeconstant"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_electron_timeconstant">[docs]</a><span class="k">def</span> <span class="nf">get_electron_timeconstant</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span>  <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Get the time for the emission of an electron</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">ne1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="n">ne1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="get_hole_timeconstant"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_hole_timeconstant">[docs]</a><span class="k">def</span> <span class="nf">get_hole_timeconstant</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Get the lifetime from the emission of an hole</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">nh1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="n">nh1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="get_DLTS_transient"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_DLTS_transient">[docs]</a><span class="k">def</span> <span class="nf">get_DLTS_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the time constant from DLTS. This assumes the doping type</span>
<span class="sd">    is on the opposite side of the band half than the defect.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>
    <span class="c1">#print(vth_e, vth_h, &#39;thermal val {0:.2e} {1:.4f} {2:.2e}&#39;.format(ni, Vt, sigma_h))</span>

    <span class="n">nh1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>
    <span class="n">ne1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Ed</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1">#print(&#39;the Ed is&#39;, Ed)</span>
        <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="n">nh1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">Ed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="n">ne1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="get_minority_DLTS_transient"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_minority_DLTS_transient">[docs]</a><span class="k">def</span> <span class="nf">get_minority_DLTS_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the time constant from DLTS minority carrier measurement.</span>
<span class="sd">    This assumes the doping type is on the opposite side of the band half</span>
<span class="sd">    than the defect.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">nh1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>
    <span class="n">ne1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">Ed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="n">nh1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">Ed</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="n">ne1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="get_rec_transient"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_rec_transient">[docs]</a><span class="k">def</span> <span class="nf">get_rec_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the time constant from recombiation</span>
<span class="sd">    This represents the capture of the majority carrier, as its concentration</span>
<span class="sd">    is significantly larger and does not change.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ne0 :</span>
<span class="sd">        The concentration of electrons in the dark</span>
<span class="sd">    nh0 :</span>
<span class="sd">        The concentration of holes in the dark</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="k">if</span> <span class="n">nh0</span> <span class="o">&gt;</span> <span class="n">ne0</span><span class="p">:</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="n">nh0</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="n">ne0</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1">#print(&#39;222ne0 {0:.2e}, nho {1:.2e}&#39;.format(ne0, nh0))</span>
    <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span>
        <span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="p">(</span><span class="n">nh_thing</span><span class="p">)</span> <span class="o">+</span>
        <span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="p">(</span><span class="n">ne_thing</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="get_PC_transient"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.get_PC_transient">[docs]</a><span class="k">def</span> <span class="nf">get_PC_transient</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">temp</span><span class="o">=</span><span class="mi">300</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the time constant from PC</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    ne0 :</span>
<span class="sd">        The concentration of electrons in the dark</span>
<span class="sd">    nh0 :</span>
<span class="sd">        The concentration of holes in the dark</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>

<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>

    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">nh1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>
    <span class="n">ne1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">nh0</span> <span class="o">&gt;</span> <span class="n">ne0</span><span class="p">:</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="n">ne1</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="n">nh1</span> <span class="o">+</span> <span class="n">nh0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="n">ne1</span> <span class="o">+</span> <span class="n">ne0</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="n">nh1</span>

    <span class="n">esc_thran</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span>
        <span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="p">(</span><span class="n">nh_thing</span><span class="p">)</span> <span class="o">+</span>
        <span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="p">(</span><span class="n">ne_thing</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">esc_thran</span></div>


<div class="viewcode-block" id="HornbeckHanes_simplified"><a class="viewcode-back" href="../../timeconstants/timeconstants.html#defects.timeConstants.HornbeckHanes_simplified">[docs]</a><span class="k">def</span> <span class="nf">HornbeckHanes_simplified</span><span class="p">(</span><span class="n">Ed</span><span class="p">,</span> <span class="n">sigma_e</span><span class="p">,</span> <span class="n">sigma_h</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">ne0</span><span class="p">,</span> <span class="n">nh0</span><span class="p">,</span> <span class="n">temp</span><span class="p">,</span> <span class="n">tau_bkg</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the time constant from hornbeck and Hanes Simplified model</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>

<span class="sd">    Ed :</span>
<span class="sd">        Energy level of the defect from the intrinsic level</span>
<span class="sd">    sigma_e :</span>
<span class="sd">        The capture cross section of electrons</span>
<span class="sd">    sigma_h :</span>
<span class="sd">        The capture cross section of holes</span>
<span class="sd">    ni :</span>
<span class="sd">        The intrinsic carrier density</span>
<span class="sd">    ne0 :</span>
<span class="sd">        The concentration of electrons in the dark</span>
<span class="sd">    nh0 :</span>
<span class="sd">        The concentration of holes in the dark</span>
<span class="sd">    temp :</span>
<span class="sd">        The temperature of the material</span>
<span class="sd">    tau_bkg:</span>
<span class="sd">        The effective recombination lifetime of the semiconductor</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">vth_e</span><span class="p">,</span> <span class="n">vth_h</span> <span class="o">=</span> <span class="n">tm</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="n">temp</span><span class="p">)</span>
    <span class="n">Vt</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">k</span> <span class="o">*</span> <span class="n">temp</span> <span class="o">/</span> <span class="n">C</span><span class="o">.</span><span class="n">e</span>

    <span class="n">nh1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>
    <span class="n">ne1</span> <span class="o">=</span> <span class="n">ni</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Ed</span> <span class="o">/</span> <span class="n">Vt</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">nh0</span> <span class="o">&gt;</span> <span class="n">ne0</span><span class="p">:</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="n">ne1</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="n">nh1</span> <span class="o">+</span> <span class="n">nh0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ne_thing</span> <span class="o">=</span> <span class="n">ne1</span> <span class="o">+</span> <span class="n">ne0</span>
        <span class="n">nh_thing</span> <span class="o">=</span> <span class="n">nh1</span>

    <span class="n">Nd</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">nh0</span><span class="p">,</span> <span class="n">ne0</span><span class="p">)</span>

    <span class="n">tau_d</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="p">(</span><span class="n">ne_thing</span><span class="p">)</span> <span class="o">+</span>
                  <span class="n">sigma_h</span> <span class="o">*</span> <span class="n">vth_h</span> <span class="o">*</span> <span class="p">(</span><span class="n">nh_thing</span><span class="p">))</span>

    <span class="n">tau_t</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma_e</span> <span class="o">*</span> <span class="n">vth_e</span> <span class="o">*</span> <span class="n">Nd</span><span class="p">)</span>

    <span class="n">HH_s</span> <span class="o">=</span> <span class="n">tau_d</span> <span class="o">+</span> <span class="n">tau_bkg</span> <span class="o">*</span> <span class="n">tau_d</span> <span class="o">/</span> <span class="n">tau_t</span>
    <span class="k">return</span> <span class="n">HH_s</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">doctest</span>
    <span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">()</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">simulation of defects in semiconductor</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../timeconstants/timeconstants.html">Trapping time constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defects/defects.html">Defect Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sample/sample.html">Sample</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solver/solvers.html">Solvers</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Mattias Klaus Juhl.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>